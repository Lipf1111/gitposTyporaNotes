OSI 分层的好处：

1.每一层更改不会影响其他层；

2.有利于网络设备厂商生产出标准的网络设备；

**应用层：**要能够产生流量的应用程序才能属于应用层，本地打开一个计算器，这个就不算应用程序。要有通信才行。

**表示层：**我们通过微信视频聊天，视频传输前先要压缩，到对方那边再解压缩还原，这样传输带宽就小很多，这个压缩和解压缩就处于表示层。腾讯对微信传输的数据也是加密的，即使中间有人捕获了，你没有腾讯的加密和解密的方法，也看不加传输的内容，你看到就是些乱码，这种加密解密也处于表示层。还有一些传输的内容要想正确的显示的话你还得使用正确的编码方式。图片，exe文件里面存的是二进制文件。

**在通信主机上完成的功能**：应用层，表示层，会话层，传输层

**在网络设备上实现的功能**：网络层，数据链路层，物理层

![img](.\Pic\fefef.jpg)

**字符集：**一个国家或一个民族用到的全部字符的集合，美国用ASCII字符集，UTF8

**传输层的功能**：可靠传输 、流量控制 、拥塞避免，如果出现丢包，传输层会重传，传输层的缓存中的数据不会立刻丢掉，会等到对方应答收到后才丢掉。

**网络层的功能**：尽最大努力为数据包选择最佳路径到达目的地，如果路由器处理不过来，它就会扔掉，网络层是不负责数据丢包问题的，丢包问题传输层来管，如果出现丢包了，传输层会重传，所以说网络层是不负责可靠性传输的，网络层层只负责选择最佳路径，**路由器工作在网络层**，管理员给路由器添加路由表，告诉路由器器选择最佳路由的标准是什么。

下面我们来跟踪一下我们访问服务器的过程中我们经历了几个路由器：

![img](https://img-blog.csdn.net/20180803134021184?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Rhb3RvbmduaW5n/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

**数据链路层**：用集线器组网的检查计算机与计算机之间有没有冲突，避免冲突的协议叫CSMA/CD协议，

![img](.\Pic\70rgrg.jpg)

**物理层：**硬件，有线及无线。

![img](.\Pic\gregergr.jpg)

**OSI参考模型和网络排错**

要有底层为上层服务的这种思想，从底层向高层逐层排查。

物理层故障  连接问题

数据链路层故障：MAC地址冲突导致不能上网 2.交换机与计算机的网卡带宽协商不一致，网速不一致导致通不了。3.ADSL欠费导致不通。4 将计算机连接到错误的VLAN。 

网络层故障：1.计算机IP地址设置错误。2.计算机没有设置网关。3.计算机子网掩码配置错误。4.沿途的路由器路由表错误。

表示层故障：1.乱码问题（字符集对应错误）。

应用层故障：应用层程序配置问题（比如浏览器服务器的配置问题导致的上网故障）。

**OSI参加模型和网络安全**

物理层安全：防止非法计算机接入公司网络（包括无线AP）

数据链路层：1.设置了WiFi密码，这个安全层面处于数据链路层。2.公司内部的交换机可以设置哪个Mac地址可以接入，设置接多少台计算机。3.家里的ADSL拨号上网的需要登入账号及密码。4.划分不同的VLAN。

网络层安全：1.在路由器上设置哪些计算机可以访问Internet哪些不可以（在路由器上设置ACL控制数据包转发）。2.在计算机上也可以设置网络层安全，可以设置谁可以访问我。

应用层安全：开发出安全的应用程序（软件漏洞）。

**OSI参考模型和TCP/IP协议**

![img](.\Pic\efewe.jpg)

**TCP/IP协议工作过程**

​     协议 ，语法，语义

在传输层把数据分段，然后加上传输层首部（数据分段），整体我们称为数据段，这是在传输层的称呼；往下走加上网络层的首部（IP地址），整体我们称为数据包；往下走加上数据链路层的首部，整体我们称为帧；

![img](https://img-blog.csdn.net/20180803163233332?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Rhb3RvbmduaW5n/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

**路由器：**把各个网分成不同网段，这个网段的计算机不可能知道其他网段的Mac地址。因为被路由器隔开了，路由器之前的跳转根本不用MAC地址，用的是PPP协议。

**网络设备工作在哪一层**

![img](https://img-blog.csdn.net/20180803170045764?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Rhb3RvbmduaW5n/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

路由器需要看IP地址往下传输，所以**路由器工作在网络层；**同时路由器的需要与计算机的网卡连接，他们有共同语言，所以**路由器也工作在数据链路层；**网卡的物理层与路由器的物理层工作在同一层；路由器与路由器之间是点到点的PPP协议，他们工作在数据链路层；交换机能看懂数据链路层的协议，所以**交换机工作在数据链路层**。集线器什么都不看，和网线一样，没有任何智能性，有电信号我就给你四处扩散到达所有的口就得了，有一路占用了，其他路的计算机就得等。只要能接收物理信号，**路由器，集线器，交换机都可以接收物理信号，就工作在物理层**。