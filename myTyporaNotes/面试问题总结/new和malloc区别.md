# 1 属性

- `new/delete`是C++关键字，需要编译器支持；`malloc/free`是库函数，需要头文件支持

# 2 参数

- `new`不用指定所要开辟的内存块大小，由编译器根据类型信息自动计算出大小
- `malloc`需要显式指定要开辟的内存大小

# 3 返回值类型

- `new`返回的是对象类型的指针，是符合类型安全的转换
- `malloc`返回的是`void*`，需要强制类型转换，转换成我们需要的类型

# 4 分配内存失败

- `new`分配失败的时候会报`bac_alloc`异常
- `malloc`分配内存失败的时候会返回NULL

# 5 自定义类型

- `new`先调用`operator new`函数，申请足够的内存（底层调用的malloc)，然后调用类型的构造函数，返回自定义类型的指针；`delete`先调用`operator delte`函数，通过调用类型的析构函数来释放内存（底层调用free)
- `malloc/free`是库函数，只能动态的申请和释放空间，无法做自定义类型对象的构造和析构

# 6 重载

- `c++`允许重载`new/delete`操作符
- `malloc`不允许进行重载

# 7 内存区域

- `new`操作符从自由存储区上为对象动态开辟内存，`malloc`在堆区开辟内存。
    - 自由存储区是C++基于`new`操作符的一个抽象概念，凡是通过`new`操作符进行内存申请，该区即为自由存储区
    - 堆是操作系统术语，是操作系统所维护的一块特殊内存，用于程序的动态内存分配，

