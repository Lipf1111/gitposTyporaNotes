# 一、生成gdb的可执行文件

`gcc NAME1.c NAME2.c -o app -g`

- -g：加上此参数后会保留函数名和变量名

# 二、启动gdb

- gdb+可执行程序的名字
- 如果程序需要传参输入：`set args 参数`

# 三、调试中查看代码 --list

## 1.查看当前文件的代码（默认查看main函数文件）

- `l`：默认查看10行代码
- `l 行号`：查看行号上下文代码
- `l 函数名`：查看函数名的上下文代码

## 2.查看非当前文件

- `l 要查看的文件名:行号`
- `l 要查看的文件名:函数名`

## 3.更改默认查看代码的行数

- `set listsize n`：n为要设置的行数
- `show listsize`：显示当前默认查看代码的行数

# 四、断点操作-- break/b

##  1.设置断点

- `b 行号`
- `b 函数名`
- `b 文件名:行号`
- `b 文件名:函数名`

## 2.查看断点

- `info(i) b`

## 3.删除断点

- `del(d) num(断点的编号)`
- 删除多个断点
    - `d num1 num2`
    - `d num1-num5`(删除5个断点)

## 4.设置断点无效

`dis num(断点编号)`

## 5. 设置断点生效

`ena num(断点编号)`

## 6.设置条件断点

<font color=blue>条件断点需要在打断点的时候就加上条件</font>

`b 行号 if 变量==var`

# 五、调试相关的命令

1. 打印变量的值
    - `printf(p) 变量名`
2. 打印变量的类型
    - `ptype 变量名`
3. 向下单步调试
    - `next(n)`：不会进入函数体
        - `display 变量名`：一边跳一边打印变量值
            - `i d`：显示要一直看的变量都有哪些
            - `undisplay 编号n`：不看编号n的变量值
    - `step(s)`：会进入到函数体的内部
        - `finish`：跳出函数体，如果跳不出去，删去函数体内循环里断点
4. 继续运行gdb，从一个断点跳到另一个断点
    - `continue(c)`
5. 从循环体内直接跳出
    - until：循环体内没有断点时才可跳出
6. 直接设置变量等于某一个值
    - `set var = 值`：假如位于for语句中，可以直接查看i=值时，目标变量的值
7. 让gdb跑起来
    - start：运行一行后停止
    - run(r)：直接运行到第一个断点处停止
8. 退出gdb
    - quit(q)